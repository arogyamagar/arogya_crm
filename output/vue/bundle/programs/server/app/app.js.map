{"version":3,"sources":["meteor://ðŸ’»app/imports/api/checks/checkUserRoles.js","meteor://ðŸ’»app/imports/api/collection/ContactsCollection.js","meteor://ðŸ’»app/imports/api/collection/OrganizationsCollection.js","meteor://ðŸ’»app/imports/api/collection/TagsCollection.js","meteor://ðŸ’»app/imports/api/decleration/permission.js","meteor://ðŸ’»app/imports/api/decleration/roles.js","meteor://ðŸ’»app/imports/api/methods/ContactMethods.js","meteor://ðŸ’»app/imports/api/methods/OrganizationMethods.js","meteor://ðŸ’»app/imports/api/methods/TagsMethods.js","meteor://ðŸ’»app/imports/api/methods/UserMethods.js","meteor://ðŸ’»app/imports/api/publications/ContactPublication.js","meteor://ðŸ’»app/imports/api/publications/OrganizationPublication.js","meteor://ðŸ’»app/imports/api/publications/TagsPublication.js","meteor://ðŸ’»app/imports/api/publications/UserPublication.js","meteor://ðŸ’»app/server/main.js"],"names":["module","export","checkUserRole","Meteor","link","v","allowedRoles","user","currentUser","Error","includes","profile","role","ContactsCollection","Mongo","Collection","OrganizationsCollection","TagsCollection","permission","roles","CREATE_ORGANIZATION","keelaAdmin","REMOVE_ORGANIZATION","EDIT_ORGANIZATION","VIEW_ORGANIZATION","CREATE_USER","admin","REMOVE_USER","EDIT_USER","VIEW_USER","CREATE_TAG","coordinator","REMOVE_TAG","EDIT_TAG","VIEW_TAG","CREATE_CONTACT","REMOVE_CONTACT","EDIT_CONTACT","VIEW_CONTACT","_objectSpread","default","check","methods","contactDetails","Object","insert","createdAt","Date","contactId","String","contact","findOne","_id","remove","name","email","phone","tags","update","$set","modifiedBy","userId","modifiedAt","organizationDetails","organizationId","organization","tagsDetails","tagId","tag","Accounts","userDetails","findUserByUsername","username","createUser","users","$ne","updates","publish","publishContacts","find","publishOrganizations","publishTags","publishUser","KEELA_ADMIN_USERNAME","ADMIN_USERNAME","COORDINATOR_USERNAME","PASSWORD","insertOrgnization","startup","count","address","forEach","myOrganizationId","password","organizationName"],"mappings":"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","file":"/app.js","sourcesContent":["import { Meteor } from 'meteor/meteor';\r\n\r\nfunction checkUserRole(allowedRoles, user) {\r\n    const currentUser = user ? user : Meteor.user();\r\n    if (!currentUser) {\r\n        throw new Meteor.Error('User not found');\r\n    }\r\n    if (!allowedRoles.includes(currentUser.profile.role)) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport { checkUserRole };\r\n","import { Mongo } from 'meteor/mongo';\n\nexport const ContactsCollection = new Mongo.Collection('contacts');\n","import { Mongo } from 'meteor/mongo';\n\nexport const OrganizationsCollection = new Mongo.Collection('organizations');\n","import { Mongo } from 'meteor/mongo';\r\n\r\nexport const TagsCollection = new Mongo.Collection('tags');\r\n","import { roles } from './roles';\r\nexport const permission = {\r\n    CREATE_ORGANIZATION: [roles.keelaAdmin],\r\n    REMOVE_ORGANIZATION: [roles.keelaAdmin],\r\n    EDIT_ORGANIZATION: [roles.keelaAdmin],\r\n    VIEW_ORGANIZATION: [roles.keelaAdmin],\r\n\r\n    CREATE_USER: [roles.keelaAdmin, roles.admin],\r\n    REMOVE_USER: [roles.admin],\r\n    EDIT_USER: [roles.admin],\r\n    VIEW_USER: [roles.keelaAdmin, roles.admin],\r\n\r\n    CREATE_TAG: [roles.admin, roles.coordinator],\r\n    REMOVE_TAG: [roles.admin, roles.coordinator],\r\n    EDIT_TAG: [roles.admin, roles.coordinator],\r\n    VIEW_TAG: [roles.admin, roles.coordinator],\r\n\r\n    CREATE_CONTACT: [roles.admin],\r\n    REMOVE_CONTACT: [roles.admin],\r\n    EDIT_CONTACT: [roles.admin],\r\n    VIEW_CONTACT: [roles.admin, roles.coordinator],\r\n};\r\n","const roles = {\r\n    keelaAdmin: 'keelaAdmin',\r\n    admin: 'admin',\r\n    coordinator: 'coordinator',\r\n};\r\nexport { roles };\r\n","import { check } from 'meteor/check';\r\nimport { ContactsCollection } from '../collection/ContactsCollection';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { permission } from '../decleration/permission';\r\nimport { checkUserRole } from '../checks/checkUserRoles';\r\n\r\nMeteor.methods({\r\n    'contacts.create'(contactDetails) {\r\n        const currentUser = Meteor.user();\r\n        check(contactDetails, Object);\r\n        if (!contactDetails) {\r\n            throw new Meteor.Error('No contact found.');\r\n        }\r\n        if (checkUserRole(permission.CREATE_CONTACT)) {\r\n            if (currentUser)\r\n                ContactsCollection.insert({\r\n                    ...contactDetails,\r\n                    createdAt: new Date(),\r\n                });\r\n        } else {\r\n            throw new Meteor.Error('Operation Not Authorized');\r\n        }\r\n    },\r\n\r\n    'contacts.remove'(contactId) {\r\n        check(contactId, String);\r\n        const contact = ContactsCollection.findOne({\r\n            _id: contactId,\r\n        });\r\n        if (!contact) {\r\n            Meteor.Error(\"Contact doesn't exist\");\r\n        }\r\n        if (checkUserRole(permission.REMOVE_CONTACT)) {\r\n            ContactsCollection.remove(contactId);\r\n        } else {\r\n            return Meteor.Error('Operation Not Authorized');\r\n        }\r\n    },\r\n    'contacts.edit'(contact) {\r\n        const { _id, name, email, phone, tags } = contact;\r\n        if (checkUserRole(permission.EDIT_CONTACT)) {\r\n            ContactsCollection.update(_id, {\r\n                $set: {\r\n                    name: name,\r\n                    email: email,\r\n                    phone: phone,\r\n                    tags: tags,\r\n                    modifiedBy: this.userId,\r\n                    modifiedAt: new Date(),\r\n                },\r\n            });\r\n        } else {\r\n            throw new Meteor.Error('Operation Not authorized.');\r\n        }\r\n    },\r\n});\r\n","import { check } from 'meteor/check';\r\nimport { OrganizationsCollection } from '../collection/OrganizationsCollection';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { permission } from '../decleration/permission';\r\nimport { checkUserRole } from '../checks/checkUserRoles';\r\n\r\nMeteor.methods({\r\n    'organizations.create'(organizationDetails) {\r\n        const currentUser = Meteor.user();\r\n        check(organizationDetails, Object);\r\n        if (!organizationDetails) {\r\n            throw new Meteor.Error('No organization found.');\r\n        }\r\n        if (checkUserRole(permission.CREATE_ORGANIZATION)) {\r\n            if (currentUser)\r\n                OrganizationsCollection.insert({\r\n                    ...organizationDetails,\r\n                    createdAt: new Date(),\r\n                });\r\n        } else {\r\n            throw new Meteor.Error('Operation Not Authorized');\r\n        }\r\n    },\r\n\r\n    'organizations.remove'(organizationId) {\r\n        check(organizationId, String);\r\n        const organization = OrganizationsCollection.findOne({\r\n            _id: organizationId,\r\n        });\r\n        if (!organization) {\r\n            Meteor.Error(\"Organization doesn't exist\");\r\n        }\r\n        if (checkUserRole(permission.REMOVE_ORGANIZATION)) {\r\n            OrganizationsCollection.remove(organizationId);\r\n        } else {\r\n            return Meteor.Error('Operation Not Authorized');\r\n        }\r\n    },\r\n\r\n    'organizations.edit'(organization) {\r\n        if (checkUserRole(permission.EDIT_ORGANIZATION)) {\r\n            OrganizationsCollection.update(organization._id, {\r\n                $set: {\r\n                    ...organization,\r\n                    modifiedBy: this.userId,\r\n                    modifiedAt: new Date(),\r\n                },\r\n            });\r\n        } else {\r\n            throw new Meteor.Error('Operation Not authorized.');\r\n        }\r\n    },\r\n});\r\n","import { TagsCollection } from '../collection/TagsCollection';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { permission } from '../decleration/permission';\r\nimport { checkUserRole } from '../checks/checkUserRoles';\r\n\r\nMeteor.methods({\r\n    'tags.create'(tagsDetails) {\r\n        const currentUser = Meteor.user();\r\n        check(tagsDetails, Object);\r\n        if (!tagsDetails) {\r\n            throw new Meteor.Error('No tags found.');\r\n        }\r\n        if (checkUserRole(permission.CREATE_TAG)) {\r\n            if (currentUser)\r\n                TagsCollection.insert({\r\n                    ...tagsDetails,\r\n                    createdAt: new Date(),\r\n                    userId: this.userId,\r\n                    organizationId: currentUser.profile.organizationId,\r\n                });\r\n        } else {\r\n            throw new Meteor.Error('Operation Not authorized.');\r\n        }\r\n    },\r\n\r\n    'tags.remove'(tagId) {\r\n        check(tagId, String);\r\n        const tag = TagsCollection.findOne({\r\n            _id: tagId,\r\n        });\r\n        if (!tag) {\r\n            Meteor.Error(\"Organization doesn't exist\");\r\n        }\r\n        if (checkUserRole(permission.REMOVE_TAG)) {\r\n            TagsCollection.remove(tagId);\r\n        } else {\r\n            return Meteor.Error('Operation Not Authorized');\r\n        }\r\n    },\r\n    'tags.edit'(tag) {\r\n        const { _id, name } = tag;\r\n        if (checkUserRole(permission.EDIT_TAG)) {\r\n            TagsCollection.update(_id, {\r\n                $set: {\r\n                    name: name,\r\n                    modifiedBy: this.userId,\r\n                    modifiedAt: new Date(),\r\n                },\r\n            });\r\n        } else {\r\n            throw new Meteor.Error('Operation Not authorized.');\r\n        }\r\n    },\r\n});\r\n","import { Accounts } from 'meteor/accounts-base';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { permission } from '../decleration/permission';\r\nimport { checkUserRole } from '../checks/checkUserRoles';\r\n\r\nMeteor.methods({\r\n    'users.create'(userDetails) {\r\n        if (checkUserRole(permission.CREATE_USER)) {\r\n            if (!Accounts.findUserByUsername(userDetails.username)) {\r\n                Accounts.createUser(userDetails);\r\n            }\r\n        } else {\r\n            throw new Meteor.Error('Operation Not authorized.');\r\n        }\r\n        if (!Accounts.findUserByUsername(userDetails.username)) {\r\n            Accounts.createUser(userDetails);\r\n        }\r\n    },\r\n    'users.remove'(userId) {\r\n        check(userId, String);\r\n        if (checkUserRole(permission.REMOVE_USER)) {\r\n            if (!this.userId) {\r\n                throw new Meteor.Error('Operation not authorized.');\r\n            }\r\n            if (this.userId === userId) {\r\n                throw new Meteor.Error('Cannot delete myself');\r\n            }\r\n            Meteor.users.remove(userId);\r\n        } else {\r\n            throw new Meteor.Error('Operation not authorized.');\r\n        }\r\n        Meteor.users.remove({\r\n            _id: userId,\r\n            'profile.role': { $ne: 'keelaAdmin' },\r\n        });\r\n    },\r\n    'users.update'(user) {\r\n        if (checkUserRole(permission.EDIT_USER)) {\r\n            Meteor.users.update(\r\n                { _id: user.userId },\r\n                {\r\n                    $set: {\r\n                        username: user.updates.username,\r\n                        'profile.role': user.updates['profile.role'],\r\n                        'profile.organizationId':\r\n                            user.updates['profile.organizationId'],\r\n                        'profile.organizationName':\r\n                            user.updates['profile.organizationName'],\r\n                    },\r\n                }\r\n            );\r\n        } else {\r\n            throw new Meteor.Error('Operation not authorized.');\r\n        }\r\n    },\r\n});\r\n","import { Meteor } from 'meteor/meteor'\r\nimport { ContactsCollection } from '../collection/ContactsCollection'\r\n\r\nMeteor.publish('contacts', function publishContacts() {\r\n    const currentUser = Meteor.user()\r\n    if (\r\n        currentUser &&\r\n        currentUser.profile &&\r\n        currentUser.profile.organizationId\r\n    ) {\r\n        return ContactsCollection.find({\r\n            organizationId: currentUser.profile.organizationId,\r\n        })\r\n    }\r\n    return\r\n})\r\n","import { Meteor } from 'meteor/meteor'\r\nimport { OrganizationsCollection } from '../collection/OrganizationsCollection'\r\n\r\nMeteor.publish('organizations', function publishOrganizations() {\r\n    return OrganizationsCollection.find({})\r\n})\r\n","import { Meteor } from 'meteor/meteor'\r\nimport { TagsCollection } from '../collection/TagsCollection'\r\n\r\nMeteor.publish('tags', function publishTags() {\r\n    const currentUser = Meteor.user()\r\n    if (\r\n        currentUser &&\r\n        currentUser.profile &&\r\n        currentUser.profile.organizationId\r\n    ) {\r\n        return TagsCollection.find({\r\n            organizationId: currentUser.profile.organizationId,\r\n        })\r\n    }\r\n    return\r\n})\r\n","import { Meteor } from 'meteor/meteor';\r\n\r\nMeteor.publish('users', function publishUser() {\r\n    return Meteor.users.find({});\r\n});\r\n","import { Meteor } from 'meteor/meteor';\nimport { Accounts } from 'meteor/accounts-base';\n\n// Collections\nimport { OrganizationsCollection } from '../imports/api/collection/OrganizationsCollection';\nimport { TagsCollection } from '../imports/api/collection/TagsCollection';\nimport { ContactsCollection } from '../imports/api/collection/ContactsCollection';\n\n// Methods\nimport '../imports/api/methods/TagsMethods';\nimport '../imports/api/methods/UserMethods';\nimport '../imports/api/methods/OrganizationMethods';\nimport '../imports/api/methods/ContactMethods';\n\n// Publications\nimport '../imports/api/publications/OrganizationPublication';\nimport '../imports/api/publications/UserPublication';\nimport '../imports/api/publications/TagsPublication';\nimport '../imports/api/publications/ContactPublication';\n\nimport { roles } from '../imports/api/decleration/roles';\n\nconst KEELA_ADMIN_USERNAME = 'keelaAdmin';\nconst ADMIN_USERNAME = 'admin';\nconst COORDINATOR_USERNAME = 'coordinator';\nconst PASSWORD = 'password';\n\nconst insertOrgnization = (organization) => {\n    OrganizationsCollection.insert({ ...organization });\n};\n\nMeteor.startup(async () => {\n    if (OrganizationsCollection.find().count() === 0) {\n        [\n            {\n                name: 'myOrganization',\n                email: 'myorgqanization@keela.com',\n                address: 'myAddress',\n                phone: '9898989898',\n                createdAt: new Date(),\n            },\n        ].forEach(insertOrgnization);\n    }\n    const myOrganizationId = OrganizationsCollection.findOne({\n        name: 'myOrganization',\n    });\n    if (!Accounts.findUserByUsername(KEELA_ADMIN_USERNAME)) {\n        Accounts.createUser({\n            username: KEELA_ADMIN_USERNAME,\n            password: PASSWORD,\n            profile: {\n                role: roles.keelaAdmin,\n                organizationId: myOrganizationId._id,\n                organizationName: 'myOrganization',\n            },\n        });\n    }\n\n    if (!Accounts.findUserByUsername(ADMIN_USERNAME)) {\n        Accounts.createUser({\n            username: ADMIN_USERNAME,\n            password: PASSWORD,\n            profile: {\n                role: roles.admin,\n                organizationId: myOrganizationId._id,\n                organizationName: 'myOrganization',\n            },\n        });\n    }\n\n    if (!Accounts.findUserByUsername(COORDINATOR_USERNAME)) {\n        Accounts.createUser({\n            username: COORDINATOR_USERNAME,\n            password: PASSWORD,\n            profile: {\n                role: roles.coordinator,\n                organizationId: myOrganizationId._id,\n                organizationName: 'myOrganization',\n            },\n        });\n    }\n});\n"]}